@using Yay.Enumerations
@using Yay.Enumerations.MVC.UiHints

@model EnumerationBase

@{
	var containerType = ViewData.ModelMetadata.ContainerType;
	var property = containerType.GetProperty(ViewData.ModelMetadata.PropertyName);
	var selectListProvider = property.GetAttribute<DropDownListAttribute>();

	if (selectListProvider == null)
	{
		throw new Exception("This should be moved to the property.GetAttribute<DropDownListAttribute>() extension method.");
	}
	var items = selectListProvider.GetOptions(Model, property.PropertyType);
}

@Html.DropDownListFor(x => x, items)